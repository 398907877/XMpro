<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="EOS_DICT_ENTRY_SqlMap" >
	<resultMap id="eosDictTypeResult" class="com.gotop.dict.model.EosDictType" >
    <result column="DICTTYPEID" property="dictTypeId" jdbcType="VARCHAR" />
    <result column="DICTTYPENAME" property="dictTypeName" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="eosDictEntryResult" class="com.gotop.dict.model.EosDictEntry" >
    <result column="DICTTYPEID" property="dictTypeId" jdbcType="VARCHAR" />
    <result column="DICTID" property="dictId" jdbcType="VARCHAR" />
    <result column="DICTNAME" property="dictName" jdbcType="VARCHAR" />
  </resultMap>
  
   <select id="dictTypeList" resultMap="eosDictTypeResult" parameterClass="java.util.HashMap" >
   	select t.DICTTYPEID, t.DICTTYPENAME from EOS_DICT_TYPE t
   	where t.DICTTYPEID like 'DEVICE_%'
   	 <isNotNull prepend="and" property="dictTypeName" >
        t.DICTTYPENAME like '%'|| #dictTypeName# ||'%' 
      </isNotNull>
    </select>
	<select id="queryDictEntryBydictTypeId" resultMap="eosDictEntryResult" parameterClass="com.gotop.dict.model.EosDictEntry" >
   	select t.DICTTYPEID, t.DICTID, t.DICTNAME from EOS_DICT_ENTRY t
   	where t.DICTTYPEID = #dictTypeId:VARCHAR# 
    </select>
    
    <select id="getDictEntryById" resultMap="eosDictEntryResult" parameterClass="com.gotop.dict.model.EosDictEntry" >
   select t.DICTTYPEID, t.DICTID, t.DICTNAME from EOS_DICT_ENTRY t
   	where t.DICTTYPEID = #dictTypeId:VARCHAR# 
   	and t.DICTID = #dictId:VARCHAR# 
  </select>
  
  <insert id="insert" parameterClass="com.gotop.dict.model.EosDictEntry" >
    insert into EOS_DICT_ENTRY(DICTTYPEID, DICTID, DICTNAME, STATUS, RANK, SEQNO)
    values (#dictTypeId:VARCHAR#,  #dictId:VARCHAR#,  #dictName:VARCHAR#, 1, 1,  '.'|| #dictId:VARCHAR# ||'.')
  </insert>
  
  <update id="updateById" parameterClass="com.gotop.dict.model.EosDictEntry" >
    update EOS_DICT_ENTRY t
    set DICTNAME = #dictName:VARCHAR#
    where t.DICTTYPEID = #dictTypeId:VARCHAR# 
   	and t.DICTID = #dictId:VARCHAR#
  </update>
  
  <delete id="deleteById" parameterClass="com.gotop.dict.model.EosDictEntry" >
    delete from EOS_DICT_ENTRY t
    where t.DICTTYPEID = #dictTypeId:VARCHAR# 
   	and t.DICTID = #dictId:VARCHAR#
  </delete>
</sqlMap>