<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="T_APPROVAL_SqlMap">
 <resultMap id="approval" class="com.gotop.reportjbpm.model.Approval" >
    <!--Bean方式返回全表-->
    <result column="NEXT_ORG_NAME" property="nextOrgName" jdbcType="VARCHAR" />
    <result column="REPORTTIME" property="reportTime" jdbcType="VARCHAR" />
    <result column="ISURGENT" property="iSurgent" jdbcType="VARCHAR" />
    <result column="CUST_NAME" property="custName" jdbcType="VARCHAR" />
    <result column="OLD_CUST" property="oldCust" jdbcType="VARCHAR" />
    <result column="ONECATEGORY" property="oneCategory" jdbcType="VARCHAR" />
    <result column="LOANCATEGORY" property="loanCategory" jdbcType="VARCHAR" />
    <result column="CURRENCY" property="currency" jdbcType="VARCHAR" />
    <result column="APPLY_BAL" property="applyBal" jdbcType="VARCHAR" />
    <result column="ORGNAMEONE" property="orgNameOne" jdbcType="VARCHAR" />
    <result column="ORGNAMETWO" property="orgNameTwo" jdbcType="VARCHAR" />
    <result column="YXRY" property="yxry" jdbcType="VARCHAR" />
    <result column="NEXT_OPR_NAME" property="nextOprName" jdbcType="VARCHAR" />
    <result column="FDXDY" property="fdxdy" jdbcType="VARCHAR" />
    <result column="SURVEY_TIME" property="surveyTime" jdbcType="VARCHAR" />
    <result column="APP_WAY" property="appWay" jdbcType="VARCHAR" />
    <result column="POL_NO" property="polNo" jdbcType="VARCHAR" />
    <result column="MEETING_COUNT" property="meetingCount" jdbcType="VARCHAR" />
    <result column="VOTE_NO" property="voteNo" jdbcType="VARCHAR" />
    <result column="APP_TIME" property="appTime" jdbcType="VARCHAR" />
    <result column="CON_MATTER" property="conMatter" jdbcType="VARCHAR" />
    <result column="DS_MS_ONE" property="dsMsOne" jdbcType="VARCHAR" />
    <result column="DS_MS_TWO" property="dsMsTwo" jdbcType="VARCHAR" />
    <result column="DY_APP" property="dyApp" jdbcType="VARCHAR" />
    <result column="DE_APP" property="deApp" jdbcType="VARCHAR" />
    <result column="HY_ZR_NAME" property="hyZrName" jdbcType="VARCHAR" />
    <result column="HY_WY_ONE" property="hyWyOne" jdbcType="VARCHAR" />
    <result column="SH_ADDR" property="shAddr" jdbcType="VARCHAR" />
    <result column="FX_TYPE" property="fxType" jdbcType="VARCHAR" />
    <result column="SP_TYPE" property="spType" jdbcType="VARCHAR" />
    <result column="YBJ_NUM" property="ybjNum" jdbcType="VARCHAR" />
    <result column="HY_SY_JL" property="hySyJl" jdbcType="VARCHAR" />
    <result column="PJ_JL" property="pjJl" jdbcType="VARCHAR" />
    <result column="FX_ED" property="fxEd" jdbcType="VARCHAR" />
    <result column="SX_ED" property="sxEd" jdbcType="VARCHAR" />
    <result column="YW_ED" property="ywEd" jdbcType="VARCHAR" />
  </resultMap>
  
	<!-- 查询差错情况统计 -->
	<select id="queryErrorStatistic" parameterClass="java.util.HashMap" resultMap="approval">
	<!-- 
	select G.NEXT_ORG_NAME,
       G.NEXT_OPR_NAME,
       E.LOANCATEGORY,
       E.FDXDY,
       E.YXZG,
       T.MISTAKE_CONTENT,
       T.PUNISH_BAL,
       T.TASKNAME,
       M.REPORTTIME,
       E.CUST_NAME,
       P.EMPNAME,
       T.ADD_TIME
  FROM T_APPROVE_OPNINION_GP       G,
       T_GENERALPROCESS_MODELONE   E,
       T_GENERALPROCESS_MISTAKE    T,
       OM_EMPLOYEE                 P,
       T_GENERALPROCESS_MODELTHREE M
 WHERE P.EMPID = T.EMPID
   AND G.OPERATOR = P.EMPID
   AND E.FLOW_ID = T.FLOW_ID
   
      <isNotNull prepend="and" property="custName" >
        E.CUST_NAME =#custName:VARCHAR#
      </isNotNull>
      
      <isNotNull prepend="and" property="taskName" >
        T.TASKNAME in($taskName$)
      </isNotNull>
      
      <isNotNull prepend="and" property="startTime" >
        <![CDATA[M.REPORTTIME>=#startTime#]]>
      </isNotNull>
      
      <isNotNull prepend="and" property="endTime" >
       <![CDATA[M.REPORTTIME<=#endTime#]]>
      </isNotNull>
     
	 -->
	</select>

</sqlMap>